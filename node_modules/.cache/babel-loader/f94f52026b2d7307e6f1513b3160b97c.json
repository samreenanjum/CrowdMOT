{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _parseInt from \"@babel/runtime-corejs2/core-js/parse-int\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport React, { Component } from 'react';\nimport { VideoTool } from \"react-annotation-tool\";\nimport Instructions from \"../videoInstruction/VideoInstruction\";\nimport { Container, Row, Col, Card, CardBody, CardTitle, CardText } from 'reactstrap';\nimport { Button, Form, FormGroup, Label, Input } from 'reactstrap';\n\nvar Demo =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Demo, _Component);\n\n  function Demo(props) {\n    var _this;\n\n    _classCallCheck(this, Demo);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Demo).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"handleResultSubmit\", function (result) {\n      _this.setState({\n        result: result\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChange\", function (event) {\n      var target = event.target;\n      var name = target.name;\n      var value = target.type === \"checkbox\" ? target.checked : target.value;\n\n      _this.setState(function (preState) {\n        var input = preState.input;\n        return {\n          input: _objectSpread({}, input, _defineProperty({}, name, value))\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSubmit\", function (event) {\n      event.preventDefault();\n\n      _this.setState(function (preState) {\n        var input = preState.input;\n        var annotations = _this.isJsonString(input.annotations) ? input.annotations : \"[]\";\n        return {\n          params: {\n            annotations: JSON.parse(annotations),\n            url: input.url,\n            annotationWidth: _parseInt(input.annotationWidth, 10)\n          }\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"isJsonString\", function (str) {\n      try {\n        JSON.parse(str);\n      } catch (e) {\n        return false;\n      }\n\n      return true;\n    });\n\n    var _annotations = [{\n      \"id\": \"jt192wyd\",\n      \"name\": \"jt192wyd\",\n      \"label\": \"1-2\",\n      \"color\": \"rgba(255,0,0,1)\",\n      \"trajectories\": [{\n        \"id\": \"jt192wyb\",\n        \"name\": \"jt192wyb\",\n        \"x\": 295.00402335586875,\n        \"y\": 193.3689649661968,\n        \"width\": 40.75402335586878,\n        \"height\": 41.63103503380317,\n        \"time\": 0.0308226495726496,\n        \"status\": \"Show\"\n      }, {\n        \"id\": \"jt1930nb\",\n        \"name\": \"jt1930nb\",\n        \"x\": 304.00402335586875,\n        \"y\": 202.3689649661968,\n        \"width\": 58.75402335586875,\n        \"height\": 60.63103503380319,\n        \"time\": 0.03178472222222222,\n        \"status\": \"Show\"\n      }, {\n        \"id\": \"jt193fim\",\n        \"name\": \"jt193fim\",\n        \"x\": 309.00402335586875,\n        \"y\": 213.3689649661968,\n        \"width\": 58.75402335586875,\n        \"height\": 60.63103503380319,\n        \"time\": 0.06388611111111112,\n        \"status\": \"Show\"\n      }, {\n        \"id\": \"jt193ijo\",\n        \"name\": \"jt193ijo\",\n        \"x\": 320.00402335586875,\n        \"y\": 220.3689649661968,\n        \"width\": 58.75402335586875,\n        \"height\": 74.63103503380319,\n        \"time\": 0.08677242063492063,\n        \"status\": \"Show\"\n      }, {\n        \"id\": \"jt19484m\",\n        \"name\": \"jt19484m\",\n        \"x\": 320.48992156587633,\n        \"y\": 218.42537212616642,\n        \"width\": 60.697616195899116,\n        \"height\": 78.17334040378043,\n        \"time\": 0.0966718253968254,\n        \"status\": \"Show\"\n      }, {\n        \"id\": \"jt193o4y\",\n        \"name\": \"jt193o4y\",\n        \"x\": 321.00402335586875,\n        \"y\": 216.3689649661968,\n        \"width\": 62.75402335586875,\n        \"height\": 71.63103503380319,\n        \"time\": 0.10714583333333334,\n        \"status\": \"Show\"\n      }, {\n        \"id\": \"jt194dom\",\n        \"name\": \"jt194dom\",\n        \"x\": 321.00402335586875,\n        \"y\": 218.8083044640243,\n        \"width\": 62.75402335586875,\n        \"height\": 69.1916955359757,\n        \"time\": 0.1195857142857143,\n        \"status\": \"Show\"\n      }, {\n        \"id\": \"jt193taw\",\n        \"name\": \"jt193taw\",\n        \"x\": 321.00402335586875,\n        \"y\": 228.3689649661968,\n        \"width\": 62.75402335586875,\n        \"height\": 59.63103503380319,\n        \"time\": 0.13459007936507936,\n        \"status\": \"Show\"\n      }, {\n        \"id\": \"jt193zb4\",\n        \"name\": \"jt193zb4\",\n        \"x\": 318.00402335586875,\n        \"y\": 228.3689649661968,\n        \"width\": 81.75402335586875,\n        \"height\": 59.63103503380319,\n        \"time\": 0.1693952380952381,\n        \"status\": \"Show\"\n      }, {\n        \"id\": \"jt195ltz\",\n        \"name\": \"jt195ltz\",\n        \"x\": 328.2874098641244,\n        \"y\": 230.6523514744525,\n        \"width\": 70.85164231813906,\n        \"height\": 56.631035033803215,\n        \"time\": 0.1985523622047244,\n        \"status\": \"Show\"\n      }, {\n        \"id\": \"jt194trg\",\n        \"name\": \"jt194trg\",\n        \"x\": 322.00402335586875,\n        \"y\": 232.3689649661968,\n        \"width\": 76.66967862975952,\n        \"height\": 59.63103503380319,\n        \"time\": 0.22047222222222224,\n        \"status\": \"Show\"\n      }, {\n        \"id\": \"jt194lgm\",\n        \"name\": \"jt194lgm\",\n        \"x\": 318.00402335586875,\n        \"y\": 228.3689649661968,\n        \"width\": 75.75402335586875,\n        \"height\": 59.63103503380319,\n        \"time\": 0.22967083333333332,\n        \"status\": \"Show\"\n      }, {\n        \"id\": \"jt195p7m\",\n        \"name\": \"jt195p7m\",\n        \"x\": 318.00402335586875,\n        \"y\": 228.3689649661968,\n        \"width\": 68.75402335586875,\n        \"height\": 58.19684946385905,\n        \"time\": 0.25359350393700786,\n        \"status\": \"Show\"\n      }, {\n        \"id\": \"jt1951r9\",\n        \"name\": \"jt1951r9\",\n        \"x\": 318.00402335586875,\n        \"y\": 228.3689649661968,\n        \"width\": 75.75402335586875,\n        \"height\": 54.63103503380319,\n        \"time\": 0.31307242063492063,\n        \"status\": \"Show\"\n      }, {\n        \"id\": \"jt195v9l\",\n        \"name\": \"jt195v9l\",\n        \"x\": 318.00402335586875,\n        \"y\": 228.3689649661968,\n        \"width\": 75.75402335586875,\n        \"height\": 54.63103503380319,\n        \"time\": 0.34623937007874017,\n        \"status\": \"Hide\"\n      }],\n      \"children\": [],\n      \"parent\": \"jt1922xu\"\n    }, {\n      \"id\": \"jt192wyc\",\n      \"name\": \"jt192wyc\",\n      \"label\": \"1-1\",\n      \"color\": \"rgba(255,0,0,1)\",\n      \"trajectories\": [{\n        \"id\": \"jt192wyb\",\n        \"name\": \"jt192wyb\",\n        \"x\": 274.25,\n        \"y\": 171.73792993239366,\n        \"width\": 40.75402335586878,\n        \"height\": 41.63103503380317,\n        \"time\": 0.0308226495726496,\n        \"status\": \"Show\"\n      }, {\n        \"id\": \"jt19349x\",\n        \"name\": \"jt19349x\",\n        \"x\": 271.25,\n        \"y\": 167.73792993239366,\n        \"width\": 60.75402335586875,\n        \"height\": 58.63103503380316,\n        \"time\": 0.03178472222222222,\n        \"status\": \"Show\"\n      }, {\n        \"id\": \"jt193ekd\",\n        \"name\": \"jt193ekd\",\n        \"x\": 274.25,\n        \"y\": 160.73792993239366,\n        \"width\": 60.75402335586875,\n        \"height\": 58.63103503380316,\n        \"time\": 0.06388611111111112,\n        \"status\": \"Show\"\n      }, {\n        \"id\": \"jt193hp1\",\n        \"name\": \"jt193hp1\",\n        \"x\": 280.25,\n        \"y\": 160.73792993239366,\n        \"width\": 60.75402335586875,\n        \"height\": 58.63103503380316,\n        \"time\": 0.08677242063492063,\n        \"status\": \"Show\"\n      }, {\n        \"id\": \"jt194cbv\",\n        \"name\": \"jt194cbv\",\n        \"x\": 280.1326975821677,\n        \"y\": 158.62062751456136,\n        \"width\": 60.75402335586875,\n        \"height\": 58.63103503380316,\n        \"time\": 0.1195857142857143,\n        \"status\": \"Show\"\n      }, {\n        \"id\": \"jt193umg\",\n        \"name\": \"jt193umg\",\n        \"x\": 274.25,\n        \"y\": 154.73792993239366,\n        \"width\": 60.75402335586875,\n        \"height\": 58.63103503380316,\n        \"time\": 0.13459007936507936,\n        \"status\": \"Show\"\n      }, {\n        \"id\": \"jt193y7q\",\n        \"name\": \"jt193y7q\",\n        \"x\": 268.25,\n        \"y\": 155.73792993239366,\n        \"width\": 60.75402335586875,\n        \"height\": 58.63103503380316,\n        \"time\": 0.1693952380952381,\n        \"status\": \"Show\"\n      }, {\n        \"id\": \"jt194hxg\",\n        \"name\": \"jt194hxg\",\n        \"x\": 260.25,\n        \"y\": 157.73792993239366,\n        \"width\": 60.75402335586875,\n        \"height\": 58.63103503380316,\n        \"time\": 0.20233392857142857,\n        \"status\": \"Show\"\n      }, {\n        \"id\": \"jt194mj1\",\n        \"name\": \"jt194mj1\",\n        \"x\": 253.25,\n        \"y\": 156.73792993239366,\n        \"width\": 60.75402335586875,\n        \"height\": 58.63103503380316,\n        \"time\": 0.22967083333333332,\n        \"status\": \"Show\"\n      }, {\n        \"id\": \"jt195qgw\",\n        \"name\": \"jt195qgw\",\n        \"x\": 246.25,\n        \"y\": 156.73792993239366,\n        \"width\": 63.66047805713703,\n        \"height\": 58.63103503380316,\n        \"time\": 0.25359350393700786,\n        \"status\": \"Show\"\n      }, {\n        \"id\": \"jt194xqh\",\n        \"name\": \"jt194xqh\",\n        \"x\": 253.25,\n        \"y\": 156.73792993239366,\n        \"width\": 52.75402335586875,\n        \"height\": 58.63103503380316,\n        \"time\": 0.27642281746031744,\n        \"status\": \"Show\"\n      }, {\n        \"id\": \"jt1955u1\",\n        \"name\": \"jt1955u1\",\n        \"x\": 265.25,\n        \"y\": 159.73792993239366,\n        \"width\": 40.75402335586875,\n        \"height\": 49.63103503380316,\n        \"time\": 0.3564833333333333,\n        \"status\": \"Show\"\n      }, {\n        \"id\": \"jt195b3i\",\n        \"name\": \"jt195b3i\",\n        \"x\": 265.25,\n        \"y\": 141.73792993239366,\n        \"width\": 40.75402335586875,\n        \"height\": 49.63103503380316,\n        \"time\": 0.45984980158730154,\n        \"status\": \"Show\"\n      }, {\n        \"id\": \"jt1961v6\",\n        \"name\": \"jt1961v6\",\n        \"x\": 269.25,\n        \"y\": 144.73792993239366,\n        \"width\": 40.75402335586875,\n        \"height\": 49.63103503380316,\n        \"time\": 0.47851751968503936,\n        \"status\": \"Show\"\n      }, {\n        \"id\": \"jt1965az\",\n        \"name\": \"jt1965az\",\n        \"x\": 262.25,\n        \"y\": 144.73792993239366,\n        \"width\": 47.75402335586875,\n        \"height\": 49.63103503380316,\n        \"time\": 0.5342496062992126,\n        \"status\": \"Show\"\n      }, {\n        \"id\": \"jt1968nk\",\n        \"name\": \"jt1968nk\",\n        \"x\": 262.25,\n        \"y\": 149.73792993239366,\n        \"width\": 47.75402335586875,\n        \"height\": 49.63103503380316,\n        \"time\": 0.5904106299212598,\n        \"status\": \"Show\"\n      }, {\n        \"id\": \"jt196ax3\",\n        \"name\": \"jt196ax3\",\n        \"x\": 270.25,\n        \"y\": 158.73792993239366,\n        \"width\": 47.75402335586875,\n        \"height\": 49.63103503380316,\n        \"time\": 0.6662596456692913,\n        \"status\": \"Show\"\n      }, {\n        \"id\": \"jt196dys\",\n        \"name\": \"jt196dys\",\n        \"x\": 268.25,\n        \"y\": 164.73792993239366,\n        \"width\": 47.75402335586875,\n        \"height\": 49.63103503380316,\n        \"time\": 0.7368370078740157,\n        \"status\": \"Show\"\n      }, {\n        \"id\": \"jt196guu\",\n        \"name\": \"jt196guu\",\n        \"x\": 272.25,\n        \"y\": 154.73792993239366,\n        \"width\": 47.75402335586875,\n        \"height\": 49.63103503380316,\n        \"time\": 0.801053937007874,\n        \"status\": \"Show\"\n      }, {\n        \"id\": \"jt196k7h\",\n        \"name\": \"jt196k7h\",\n        \"x\": 273.25,\n        \"y\": 157.73792993239366,\n        \"width\": 47.75402335586875,\n        \"height\": 49.63103503380316,\n        \"time\": 0.8626350393700787,\n        \"status\": \"Show\"\n      }],\n      \"children\": [],\n      \"parent\": \"jt1922xu\"\n    }, {\n      \"id\": \"jt1922xu\",\n      \"name\": \"jt1922xu\",\n      \"label\": \"1\",\n      \"color\": \"rgba(255,219,0,1)\",\n      \"trajectories\": [{\n        \"id\": \"jt1922xu\",\n        \"name\": \"jt1922xu\",\n        \"x\": 274.25,\n        \"y\": 174,\n        \"width\": 80,\n        \"height\": 81,\n        \"time\": 0,\n        \"status\": \"Show\"\n      }, {\n        \"id\": \"jt192wyb\",\n        \"name\": \"jt192wyb\",\n        \"x\": 274.25,\n        \"y\": 171.73792993239366,\n        \"width\": 81.50804671173756,\n        \"height\": 83.26207006760634,\n        \"time\": 0.0308226495726496,\n        \"status\": \"Split\"\n      }],\n      \"children\": [\"jt192wyc\", \"jt192wyd\"],\n      \"parent\": \"\"\n    }];\n    var previewNotices = [\"Cells' body range.\", \"The time that cells <u>split</u>, <u>leave</u>, <u>obscured</u> and <u>show up</u> (if applicable).\"];\n    var url = 'https://cildata.crbs.ucsd.edu/media/videos/50507/50507_web.mp4';\n    var annotationWidth = 600;\n    _this.state = {\n      result: null,\n      input: {\n        annotations: _JSON$stringify(_annotations),\n        url: url,\n        annotationWidth: annotationWidth\n      },\n      params: {\n        annotations: _annotations,\n        url: url,\n        previewNotices: previewNotices,\n        annotationWidth: annotationWidth\n      }\n    };\n    return _this;\n  }\n\n  _createClass(Demo, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          result = _this$state.result,\n          input = _this$state.input,\n          params = _this$state.params;\n      return React.createElement(Container, {\n        fluid: true,\n        className: \"py-3\"\n      }, React.createElement(\"h1\", {\n        className: \"display-4  text-center\"\n      }, \"Video Tool\"), React.createElement(Form, {\n        className: \"mb-2 col-xs-12 col-lg-10 offset-lg-1\",\n        onSubmit: this.handleSubmit\n      }, React.createElement(FormGroup, null, React.createElement(Label, {\n        for: \"URL\"\n      }, \"Video Source URL\"), React.createElement(Input, {\n        type: \"text\",\n        name: \"url\",\n        placeholder: \"http://...\",\n        value: input.url,\n        onChange: this.handleChange\n      })), React.createElement(FormGroup, null, React.createElement(Label, {\n        for: \"Annotation Width\"\n      }, \"Annotation Width\"), React.createElement(Input, {\n        type: \"text\",\n        name: \"annotationWidth\",\n        placeholder: \"number\",\n        value: input.annotationWidth,\n        onChange: this.handleChange\n      })), React.createElement(FormGroup, null, React.createElement(Label, {\n        for: \"exampleText\"\n      }, \"Default Annotations\"), React.createElement(Input, {\n        type: \"textarea\",\n        name: \"annotations\",\n        placeholder: \"[{id: .., name: .., label: .., color: .., trajectories: ..}, ..]\",\n        value: input.annotations,\n        onChange: this.handleChange,\n        rows: 10\n      })), React.createElement(Button, null, \"Submit\")), React.createElement(Row, {\n        className: \"my-3 col-xs-12 col-lg-10 offset-lg-1\"\n      }, React.createElement(Col, null, React.createElement(Instructions, null))), React.createElement(Row, {\n        className: \"py-3\",\n        style: {\n          background: \"rgb(246, 246, 246)\"\n        }\n      }, React.createElement(Col, null, React.createElement(VideoTool, {\n        key: \"\".concat(_JSON$stringify(params.url), \"\\n\\t\\t\\t\\t\\t\\t\\t\\t \").concat(_JSON$stringify(params.annotations), \"\\n\\t\\t\\t\\t\\t\\t\\t\\t \").concat(_JSON$stringify(params.annotationWidth), \"\\n\\t\\t\\t\\t\\t\\t\\t\\t \").concat(_JSON$stringify(params.previewNotices)),\n        onSubmit: this.handleResultSubmit,\n        url: params.url,\n        annotations: params.annotations,\n        annotationWidth: params.annotationWidth,\n        previewNotices: params.previewNotices\n      }))), React.createElement(Row, {\n        className: \"my-3 col-xs-12 col-lg-10 offset-lg-1\"\n      }, React.createElement(Col, null, React.createElement(Card, null, React.createElement(CardBody, null, React.createElement(CardTitle, null, \"Result\"), React.createElement(CardText, null, _JSON$stringify(result, null, 2)))))));\n    }\n  }]);\n\n  return Demo;\n}(Component);\n\nexport default Demo;","map":null,"metadata":{},"sourceType":"module"}