{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _parseInt from \"@babel/runtime-corejs2/core-js/parse-int\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport React, { Component } from 'react';\nimport { VideoTool } from \"react-annotation-tool\";\nimport Instructions from \"../videoInstruction/VideoInstruction\";\nimport { Container, Row, Col, Card, CardBody, CardTitle, CardText } from 'reactstrap';\nimport { Button, Form, FormGroup, Label, Input } from 'reactstrap';\n\nvar Demo =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Demo, _Component);\n\n  function Demo(props) {\n    var _this;\n\n    _classCallCheck(this, Demo);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Demo).call(this, props)); // const fs = require('fs');\n\n    _defineProperty(_assertThisInitialized(_this), \"handleResultSubmit\", function (result) {\n      _this.setState({\n        result: result\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChange\", function (event) {\n      var target = event.target;\n      var name = target.name;\n      var value = target.type === \"checkbox\" ? target.checked : target.value;\n\n      _this.setState(function (preState) {\n        var input = preState.input;\n        return {\n          input: _objectSpread({}, input, _defineProperty({}, name, value))\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSubmit\", function (event) {\n      event.preventDefault();\n\n      _this.setState(function (preState) {\n        var input = preState.input;\n        var annotations = _this.isJsonString(input.annotations) ? input.annotations : \"[]\";\n        return {\n          params: {\n            annotations: JSON.parse(annotations),\n            url: input.url,\n            annotationWidth: _parseInt(input.annotationWidth, 10)\n          }\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"isJsonString\", function (str) {\n      try {\n        JSON.parse(str);\n      } catch (e) {\n        return false;\n      }\n\n      return true;\n    });\n\n    var _annotations = []; //[ { \"id\": \"jt192wyd\", \"name\": \"jt192wyd\", \"label\": \"1-2\", \"color\": \"rgba(255,0,0,1)\", \"trajectories\": [ { \"id\": \"jt192wyb\", \"name\": \"jt192wyb\", \"x\": 295.00402335586875, \"y\": 193.3689649661968, \"width\": 40.75402335586878, \"height\": 41.63103503380317, \"time\": 0.0308226495726496, \"status\": \"Show\" }, { \"id\": \"jt1930nb\", \"name\": \"jt1930nb\", \"x\": 304.00402335586875, \"y\": 202.3689649661968, \"width\": 58.75402335586875, \"height\": 60.63103503380319, \"time\": 0.03178472222222222, \"status\": \"Show\" }, { \"id\": \"jt193fim\", \"name\": \"jt193fim\", \"x\": 309.00402335586875, \"y\": 213.3689649661968, \"width\": 58.75402335586875, \"height\": 60.63103503380319, \"time\": 0.06388611111111112, \"status\": \"Show\" }, { \"id\": \"jt193ijo\", \"name\": \"jt193ijo\", \"x\": 320.00402335586875, \"y\": 220.3689649661968, \"width\": 58.75402335586875, \"height\": 74.63103503380319, \"time\": 0.08677242063492063, \"status\": \"Show\" }, { \"id\": \"jt19484m\", \"name\": \"jt19484m\", \"x\": 320.48992156587633, \"y\": 218.42537212616642, \"width\": 60.697616195899116, \"height\": 78.17334040378043, \"time\": 0.0966718253968254, \"status\": \"Show\" }, { \"id\": \"jt193o4y\", \"name\": \"jt193o4y\", \"x\": 321.00402335586875, \"y\": 216.3689649661968, \"width\": 62.75402335586875, \"height\": 71.63103503380319, \"time\": 0.10714583333333334, \"status\": \"Show\" }, { \"id\": \"jt194dom\", \"name\": \"jt194dom\", \"x\": 321.00402335586875, \"y\": 218.8083044640243, \"width\": 62.75402335586875, \"height\": 69.1916955359757, \"time\": 0.1195857142857143, \"status\": \"Show\" }, { \"id\": \"jt193taw\", \"name\": \"jt193taw\", \"x\": 321.00402335586875, \"y\": 228.3689649661968, \"width\": 62.75402335586875, \"height\": 59.63103503380319, \"time\": 0.13459007936507936, \"status\": \"Show\" }, { \"id\": \"jt193zb4\", \"name\": \"jt193zb4\", \"x\": 318.00402335586875, \"y\": 228.3689649661968, \"width\": 81.75402335586875, \"height\": 59.63103503380319, \"time\": 0.1693952380952381, \"status\": \"Show\" }, { \"id\": \"jt195ltz\", \"name\": \"jt195ltz\", \"x\": 328.2874098641244, \"y\": 230.6523514744525, \"width\": 70.85164231813906, \"height\": 56.631035033803215, \"time\": 0.1985523622047244, \"status\": \"Show\" }, { \"id\": \"jt194trg\", \"name\": \"jt194trg\", \"x\": 322.00402335586875, \"y\": 232.3689649661968, \"width\": 76.66967862975952, \"height\": 59.63103503380319, \"time\": 0.22047222222222224, \"status\": \"Show\" }, { \"id\": \"jt194lgm\", \"name\": \"jt194lgm\", \"x\": 318.00402335586875, \"y\": 228.3689649661968, \"width\": 75.75402335586875, \"height\": 59.63103503380319, \"time\": 0.22967083333333332, \"status\": \"Show\" }, { \"id\": \"jt195p7m\", \"name\": \"jt195p7m\", \"x\": 318.00402335586875, \"y\": 228.3689649661968, \"width\": 68.75402335586875, \"height\": 58.19684946385905, \"time\": 0.25359350393700786, \"status\": \"Show\" }, { \"id\": \"jt1951r9\", \"name\": \"jt1951r9\", \"x\": 318.00402335586875, \"y\": 228.3689649661968, \"width\": 75.75402335586875, \"height\": 54.63103503380319, \"time\": 0.31307242063492063, \"status\": \"Show\" }, { \"id\": \"jt195v9l\", \"name\": \"jt195v9l\", \"x\": 318.00402335586875, \"y\": 228.3689649661968, \"width\": 75.75402335586875, \"height\": 54.63103503380319, \"time\": 0.34623937007874017, \"status\": \"Hide\" } ], \"children\": [], \"parent\": \"jt1922xu\" }, { \"id\": \"jt192wyc\", \"name\": \"jt192wyc\", \"label\": \"1-1\", \"color\": \"rgba(255,0,0,1)\", \"trajectories\": [ { \"id\": \"jt192wyb\", \"name\": \"jt192wyb\", \"x\": 274.25, \"y\": 171.73792993239366, \"width\": 40.75402335586878, \"height\": 41.63103503380317, \"time\": 0.0308226495726496, \"status\": \"Show\" }, { \"id\": \"jt19349x\", \"name\": \"jt19349x\", \"x\": 271.25, \"y\": 167.73792993239366, \"width\": 60.75402335586875, \"height\": 58.63103503380316, \"time\": 0.03178472222222222, \"status\": \"Show\" }, { \"id\": \"jt193ekd\", \"name\": \"jt193ekd\", \"x\": 274.25, \"y\": 160.73792993239366, \"width\": 60.75402335586875, \"height\": 58.63103503380316, \"time\": 0.06388611111111112, \"status\": \"Show\" }, { \"id\": \"jt193hp1\", \"name\": \"jt193hp1\", \"x\": 280.25, \"y\": 160.73792993239366, \"width\": 60.75402335586875, \"height\": 58.63103503380316, \"time\": 0.08677242063492063, \"status\": \"Show\" }, { \"id\": \"jt194cbv\", \"name\": \"jt194cbv\", \"x\": 280.1326975821677, \"y\": 158.62062751456136, \"width\": 60.75402335586875, \"height\": 58.63103503380316, \"time\": 0.1195857142857143, \"status\": \"Show\" }, { \"id\": \"jt193umg\", \"name\": \"jt193umg\", \"x\": 274.25, \"y\": 154.73792993239366, \"width\": 60.75402335586875, \"height\": 58.63103503380316, \"time\": 0.13459007936507936, \"status\": \"Show\" }, { \"id\": \"jt193y7q\", \"name\": \"jt193y7q\", \"x\": 268.25, \"y\": 155.73792993239366, \"width\": 60.75402335586875, \"height\": 58.63103503380316, \"time\": 0.1693952380952381, \"status\": \"Show\" }, { \"id\": \"jt194hxg\", \"name\": \"jt194hxg\", \"x\": 260.25, \"y\": 157.73792993239366, \"width\": 60.75402335586875, \"height\": 58.63103503380316, \"time\": 0.20233392857142857, \"status\": \"Show\" }, { \"id\": \"jt194mj1\", \"name\": \"jt194mj1\", \"x\": 253.25, \"y\": 156.73792993239366, \"width\": 60.75402335586875, \"height\": 58.63103503380316, \"time\": 0.22967083333333332, \"status\": \"Show\" }, { \"id\": \"jt195qgw\", \"name\": \"jt195qgw\", \"x\": 246.25, \"y\": 156.73792993239366, \"width\": 63.66047805713703, \"height\": 58.63103503380316, \"time\": 0.25359350393700786, \"status\": \"Show\" }, { \"id\": \"jt194xqh\", \"name\": \"jt194xqh\", \"x\": 253.25, \"y\": 156.73792993239366, \"width\": 52.75402335586875, \"height\": 58.63103503380316, \"time\": 0.27642281746031744, \"status\": \"Show\" }, { \"id\": \"jt1955u1\", \"name\": \"jt1955u1\", \"x\": 265.25, \"y\": 159.73792993239366, \"width\": 40.75402335586875, \"height\": 49.63103503380316, \"time\": 0.3564833333333333, \"status\": \"Show\" }, { \"id\": \"jt195b3i\", \"name\": \"jt195b3i\", \"x\": 265.25, \"y\": 141.73792993239366, \"width\": 40.75402335586875, \"height\": 49.63103503380316, \"time\": 0.45984980158730154, \"status\": \"Show\" }, { \"id\": \"jt1961v6\", \"name\": \"jt1961v6\", \"x\": 269.25, \"y\": 144.73792993239366, \"width\": 40.75402335586875, \"height\": 49.63103503380316, \"time\": 0.47851751968503936, \"status\": \"Show\" }, { \"id\": \"jt1965az\", \"name\": \"jt1965az\", \"x\": 262.25, \"y\": 144.73792993239366, \"width\": 47.75402335586875, \"height\": 49.63103503380316, \"time\": 0.5342496062992126, \"status\": \"Show\" }, { \"id\": \"jt1968nk\", \"name\": \"jt1968nk\", \"x\": 262.25, \"y\": 149.73792993239366, \"width\": 47.75402335586875, \"height\": 49.63103503380316, \"time\": 0.5904106299212598, \"status\": \"Show\" }, { \"id\": \"jt196ax3\", \"name\": \"jt196ax3\", \"x\": 270.25, \"y\": 158.73792993239366, \"width\": 47.75402335586875, \"height\": 49.63103503380316, \"time\": 0.6662596456692913, \"status\": \"Show\" }, { \"id\": \"jt196dys\", \"name\": \"jt196dys\", \"x\": 268.25, \"y\": 164.73792993239366, \"width\": 47.75402335586875, \"height\": 49.63103503380316, \"time\": 0.7368370078740157, \"status\": \"Show\" }, { \"id\": \"jt196guu\", \"name\": \"jt196guu\", \"x\": 272.25, \"y\": 154.73792993239366, \"width\": 47.75402335586875, \"height\": 49.63103503380316, \"time\": 0.801053937007874, \"status\": \"Show\" }, { \"id\": \"jt196k7h\", \"name\": \"jt196k7h\", \"x\": 273.25, \"y\": 157.73792993239366, \"width\": 47.75402335586875, \"height\": 49.63103503380316, \"time\": 0.8626350393700787, \"status\": \"Show\" } ], \"children\": [], \"parent\": \"jt1922xu\" }, { \"id\": \"jt1922xu\", \"name\": \"jt1922xu\", \"label\": \"1\", \"color\": \"rgba(255,219,0,1)\", \"trajectories\": [ { \"id\": \"jt1922xu\", \"name\": \"jt1922xu\", \"x\": 274.25, \"y\": 174, \"width\": 80, \"height\": 81, \"time\": 0, \"status\": \"Show\" }, { \"id\": \"jt192wyb\", \"name\": \"jt192wyb\", \"x\": 274.25, \"y\": 171.73792993239366, \"width\": 81.50804671173756, \"height\": 83.26207006760634, \"time\": 0.0308226495726496, \"status\": \"Split\" } ], \"children\": [ \"jt192wyc\", \"jt192wyd\" ], \"parent\": \"\" } ];\n\n    var previewNotices = [\"Cells' body range.\", \"The time that cells <u>split</u>, <u>leave</u>, <u>obscured</u> and <u>show up</u> (if applicable).\"];\n    var url = 'https://cildata.crbs.ucsd.edu/media/videos/50507/50507_web.mp4';\n    var annotationWidth = 600;\n    _this.state = {\n      result: null,\n      input: {\n        annotations: _JSON$stringify(_annotations),\n        url: url,\n        annotationWidth: annotationWidth\n      },\n      params: {\n        annotations: _annotations,\n        url: url,\n        previewNotices: previewNotices,\n        annotationWidth: annotationWidth\n      }\n    };\n    return _this;\n  }\n\n  _createClass(Demo, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          result = _this$state.result,\n          input = _this$state.input,\n          params = _this$state.params;\n      return React.createElement(Container, {\n        fluid: true,\n        className: \"py-3\"\n      }, React.createElement(\"h1\", {\n        className: \"display-4  text-center\"\n      }, \"Video Tool\"), React.createElement(Form, {\n        className: \"mb-2 col-xs-12 col-lg-10 offset-lg-1\",\n        onSubmit: this.handleSubmit\n      }, React.createElement(FormGroup, null, React.createElement(Label, {\n        for: \"URL\"\n      }, \"Video Source URL\"), React.createElement(Input, {\n        type: \"text\",\n        name: \"url\",\n        placeholder: \"http://...\",\n        value: input.url,\n        onChange: this.handleChange\n      })), React.createElement(FormGroup, null, React.createElement(Label, {\n        for: \"Annotation Width\"\n      }, \"Annotation Width\"), React.createElement(Input, {\n        type: \"text\",\n        name: \"annotationWidth\",\n        placeholder: \"number\",\n        value: input.annotationWidth,\n        onChange: this.handleChange\n      })), React.createElement(FormGroup, null, React.createElement(Label, {\n        for: \"exampleText\"\n      }, \"Default Annotations\"), React.createElement(Input, {\n        type: \"textarea\",\n        name: \"annotations\",\n        placeholder: \"[{id: .., name: .., label: .., color: .., trajectories: ..}, ..]\",\n        value: input.annotations,\n        onChange: this.handleChange,\n        rows: 2\n      })), React.createElement(Button, null, \"Demo\")), React.createElement(Row, {\n        className: \"my-3 col-xs-12 col-lg-10 offset-lg-1\"\n      }, React.createElement(Col, null, React.createElement(Instructions, null))), React.createElement(Row, {\n        className: \"py-3\",\n        style: {\n          background: \"rgb(246, 246, 246)\"\n        }\n      }, React.createElement(Col, null, React.createElement(VideoTool, {\n        key: \"\".concat(_JSON$stringify(params.url), \"\\n\\t\\t\\t\\t\\t\\t\\t\\t \").concat(_JSON$stringify(params.annotations), \"\\n\\t\\t\\t\\t\\t\\t\\t\\t \").concat(_JSON$stringify(params.annotationWidth), \"\\n\\t\\t\\t\\t\\t\\t\\t\\t \").concat(_JSON$stringify(params.previewNotices)),\n        onSubmit: this.handleResultSubmit,\n        url: params.url,\n        annotations: params.annotations,\n        annotationWidth: params.annotationWidth,\n        previewNotices: params.previewNotices\n      }))), React.createElement(Row, {\n        className: \"my-3 col-xs-12 col-lg-10 offset-lg-1\"\n      }, React.createElement(Col, null, React.createElement(Card, null, React.createElement(CardBody, null, React.createElement(CardTitle, null, React.createElement(\"b\", null, \"Annotations:\")), React.createElement(CardText, null, _JSON$stringify(result, null, 2)))))), \"let dataStr = \\\"data:text/json;charset=utf-8,\\\" + encodeURIComponent(JSON.stringify(result));\", React.createElement(Card, null, React.createElement(CardBody, null, React.createElement(Button, null, React.createElement(\"a\", {\n        href: dataStr,\n        className: \"btn btn-outline-info\",\n        role: \"button\",\n        download: \"\".concat(params.url, \".json\")\n      }, \"Download the Result\")))));\n    }\n  }]);\n\n  return Demo;\n}(Component);\n\nexport default Demo;","map":{"version":3,"sources":["/var/www/html/videoannot/tool-interface/chi-lin/components/videoAnnotationDemo/VideoAnnotationDemo.js"],"names":["React","Component","VideoTool","Instructions","Container","Row","Col","Card","CardBody","CardTitle","CardText","Button","Form","FormGroup","Label","Input","Demo","props","result","setState","event","target","name","value","type","checked","preState","input","preventDefault","annotations","isJsonString","params","JSON","parse","url","annotationWidth","str","e","previewNotices","state","handleSubmit","handleChange","background","handleResultSubmit","dataStr"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport { VideoTool } from \"react-annotation-tool\"\nimport Instructions from \"../videoInstruction/VideoInstruction\"\nimport { Container, Row, Col, Card, CardBody, CardTitle, CardText } from 'reactstrap';\nimport { Button, Form, FormGroup, Label, Input } from 'reactstrap';\n\n\nclass Demo extends Component {\n\tconstructor(props){\n\t    super(props)\n\t   // const fs = require('fs');\n\t    const annotations = [];//[ { \"id\": \"jt192wyd\", \"name\": \"jt192wyd\", \"label\": \"1-2\", \"color\": \"rgba(255,0,0,1)\", \"trajectories\": [ { \"id\": \"jt192wyb\", \"name\": \"jt192wyb\", \"x\": 295.00402335586875, \"y\": 193.3689649661968, \"width\": 40.75402335586878, \"height\": 41.63103503380317, \"time\": 0.0308226495726496, \"status\": \"Show\" }, { \"id\": \"jt1930nb\", \"name\": \"jt1930nb\", \"x\": 304.00402335586875, \"y\": 202.3689649661968, \"width\": 58.75402335586875, \"height\": 60.63103503380319, \"time\": 0.03178472222222222, \"status\": \"Show\" }, { \"id\": \"jt193fim\", \"name\": \"jt193fim\", \"x\": 309.00402335586875, \"y\": 213.3689649661968, \"width\": 58.75402335586875, \"height\": 60.63103503380319, \"time\": 0.06388611111111112, \"status\": \"Show\" }, { \"id\": \"jt193ijo\", \"name\": \"jt193ijo\", \"x\": 320.00402335586875, \"y\": 220.3689649661968, \"width\": 58.75402335586875, \"height\": 74.63103503380319, \"time\": 0.08677242063492063, \"status\": \"Show\" }, { \"id\": \"jt19484m\", \"name\": \"jt19484m\", \"x\": 320.48992156587633, \"y\": 218.42537212616642, \"width\": 60.697616195899116, \"height\": 78.17334040378043, \"time\": 0.0966718253968254, \"status\": \"Show\" }, { \"id\": \"jt193o4y\", \"name\": \"jt193o4y\", \"x\": 321.00402335586875, \"y\": 216.3689649661968, \"width\": 62.75402335586875, \"height\": 71.63103503380319, \"time\": 0.10714583333333334, \"status\": \"Show\" }, { \"id\": \"jt194dom\", \"name\": \"jt194dom\", \"x\": 321.00402335586875, \"y\": 218.8083044640243, \"width\": 62.75402335586875, \"height\": 69.1916955359757, \"time\": 0.1195857142857143, \"status\": \"Show\" }, { \"id\": \"jt193taw\", \"name\": \"jt193taw\", \"x\": 321.00402335586875, \"y\": 228.3689649661968, \"width\": 62.75402335586875, \"height\": 59.63103503380319, \"time\": 0.13459007936507936, \"status\": \"Show\" }, { \"id\": \"jt193zb4\", \"name\": \"jt193zb4\", \"x\": 318.00402335586875, \"y\": 228.3689649661968, \"width\": 81.75402335586875, \"height\": 59.63103503380319, \"time\": 0.1693952380952381, \"status\": \"Show\" }, { \"id\": \"jt195ltz\", \"name\": \"jt195ltz\", \"x\": 328.2874098641244, \"y\": 230.6523514744525, \"width\": 70.85164231813906, \"height\": 56.631035033803215, \"time\": 0.1985523622047244, \"status\": \"Show\" }, { \"id\": \"jt194trg\", \"name\": \"jt194trg\", \"x\": 322.00402335586875, \"y\": 232.3689649661968, \"width\": 76.66967862975952, \"height\": 59.63103503380319, \"time\": 0.22047222222222224, \"status\": \"Show\" }, { \"id\": \"jt194lgm\", \"name\": \"jt194lgm\", \"x\": 318.00402335586875, \"y\": 228.3689649661968, \"width\": 75.75402335586875, \"height\": 59.63103503380319, \"time\": 0.22967083333333332, \"status\": \"Show\" }, { \"id\": \"jt195p7m\", \"name\": \"jt195p7m\", \"x\": 318.00402335586875, \"y\": 228.3689649661968, \"width\": 68.75402335586875, \"height\": 58.19684946385905, \"time\": 0.25359350393700786, \"status\": \"Show\" }, { \"id\": \"jt1951r9\", \"name\": \"jt1951r9\", \"x\": 318.00402335586875, \"y\": 228.3689649661968, \"width\": 75.75402335586875, \"height\": 54.63103503380319, \"time\": 0.31307242063492063, \"status\": \"Show\" }, { \"id\": \"jt195v9l\", \"name\": \"jt195v9l\", \"x\": 318.00402335586875, \"y\": 228.3689649661968, \"width\": 75.75402335586875, \"height\": 54.63103503380319, \"time\": 0.34623937007874017, \"status\": \"Hide\" } ], \"children\": [], \"parent\": \"jt1922xu\" }, { \"id\": \"jt192wyc\", \"name\": \"jt192wyc\", \"label\": \"1-1\", \"color\": \"rgba(255,0,0,1)\", \"trajectories\": [ { \"id\": \"jt192wyb\", \"name\": \"jt192wyb\", \"x\": 274.25, \"y\": 171.73792993239366, \"width\": 40.75402335586878, \"height\": 41.63103503380317, \"time\": 0.0308226495726496, \"status\": \"Show\" }, { \"id\": \"jt19349x\", \"name\": \"jt19349x\", \"x\": 271.25, \"y\": 167.73792993239366, \"width\": 60.75402335586875, \"height\": 58.63103503380316, \"time\": 0.03178472222222222, \"status\": \"Show\" }, { \"id\": \"jt193ekd\", \"name\": \"jt193ekd\", \"x\": 274.25, \"y\": 160.73792993239366, \"width\": 60.75402335586875, \"height\": 58.63103503380316, \"time\": 0.06388611111111112, \"status\": \"Show\" }, { \"id\": \"jt193hp1\", \"name\": \"jt193hp1\", \"x\": 280.25, \"y\": 160.73792993239366, \"width\": 60.75402335586875, \"height\": 58.63103503380316, \"time\": 0.08677242063492063, \"status\": \"Show\" }, { \"id\": \"jt194cbv\", \"name\": \"jt194cbv\", \"x\": 280.1326975821677, \"y\": 158.62062751456136, \"width\": 60.75402335586875, \"height\": 58.63103503380316, \"time\": 0.1195857142857143, \"status\": \"Show\" }, { \"id\": \"jt193umg\", \"name\": \"jt193umg\", \"x\": 274.25, \"y\": 154.73792993239366, \"width\": 60.75402335586875, \"height\": 58.63103503380316, \"time\": 0.13459007936507936, \"status\": \"Show\" }, { \"id\": \"jt193y7q\", \"name\": \"jt193y7q\", \"x\": 268.25, \"y\": 155.73792993239366, \"width\": 60.75402335586875, \"height\": 58.63103503380316, \"time\": 0.1693952380952381, \"status\": \"Show\" }, { \"id\": \"jt194hxg\", \"name\": \"jt194hxg\", \"x\": 260.25, \"y\": 157.73792993239366, \"width\": 60.75402335586875, \"height\": 58.63103503380316, \"time\": 0.20233392857142857, \"status\": \"Show\" }, { \"id\": \"jt194mj1\", \"name\": \"jt194mj1\", \"x\": 253.25, \"y\": 156.73792993239366, \"width\": 60.75402335586875, \"height\": 58.63103503380316, \"time\": 0.22967083333333332, \"status\": \"Show\" }, { \"id\": \"jt195qgw\", \"name\": \"jt195qgw\", \"x\": 246.25, \"y\": 156.73792993239366, \"width\": 63.66047805713703, \"height\": 58.63103503380316, \"time\": 0.25359350393700786, \"status\": \"Show\" }, { \"id\": \"jt194xqh\", \"name\": \"jt194xqh\", \"x\": 253.25, \"y\": 156.73792993239366, \"width\": 52.75402335586875, \"height\": 58.63103503380316, \"time\": 0.27642281746031744, \"status\": \"Show\" }, { \"id\": \"jt1955u1\", \"name\": \"jt1955u1\", \"x\": 265.25, \"y\": 159.73792993239366, \"width\": 40.75402335586875, \"height\": 49.63103503380316, \"time\": 0.3564833333333333, \"status\": \"Show\" }, { \"id\": \"jt195b3i\", \"name\": \"jt195b3i\", \"x\": 265.25, \"y\": 141.73792993239366, \"width\": 40.75402335586875, \"height\": 49.63103503380316, \"time\": 0.45984980158730154, \"status\": \"Show\" }, { \"id\": \"jt1961v6\", \"name\": \"jt1961v6\", \"x\": 269.25, \"y\": 144.73792993239366, \"width\": 40.75402335586875, \"height\": 49.63103503380316, \"time\": 0.47851751968503936, \"status\": \"Show\" }, { \"id\": \"jt1965az\", \"name\": \"jt1965az\", \"x\": 262.25, \"y\": 144.73792993239366, \"width\": 47.75402335586875, \"height\": 49.63103503380316, \"time\": 0.5342496062992126, \"status\": \"Show\" }, { \"id\": \"jt1968nk\", \"name\": \"jt1968nk\", \"x\": 262.25, \"y\": 149.73792993239366, \"width\": 47.75402335586875, \"height\": 49.63103503380316, \"time\": 0.5904106299212598, \"status\": \"Show\" }, { \"id\": \"jt196ax3\", \"name\": \"jt196ax3\", \"x\": 270.25, \"y\": 158.73792993239366, \"width\": 47.75402335586875, \"height\": 49.63103503380316, \"time\": 0.6662596456692913, \"status\": \"Show\" }, { \"id\": \"jt196dys\", \"name\": \"jt196dys\", \"x\": 268.25, \"y\": 164.73792993239366, \"width\": 47.75402335586875, \"height\": 49.63103503380316, \"time\": 0.7368370078740157, \"status\": \"Show\" }, { \"id\": \"jt196guu\", \"name\": \"jt196guu\", \"x\": 272.25, \"y\": 154.73792993239366, \"width\": 47.75402335586875, \"height\": 49.63103503380316, \"time\": 0.801053937007874, \"status\": \"Show\" }, { \"id\": \"jt196k7h\", \"name\": \"jt196k7h\", \"x\": 273.25, \"y\": 157.73792993239366, \"width\": 47.75402335586875, \"height\": 49.63103503380316, \"time\": 0.8626350393700787, \"status\": \"Show\" } ], \"children\": [], \"parent\": \"jt1922xu\" }, { \"id\": \"jt1922xu\", \"name\": \"jt1922xu\", \"label\": \"1\", \"color\": \"rgba(255,219,0,1)\", \"trajectories\": [ { \"id\": \"jt1922xu\", \"name\": \"jt1922xu\", \"x\": 274.25, \"y\": 174, \"width\": 80, \"height\": 81, \"time\": 0, \"status\": \"Show\" }, { \"id\": \"jt192wyb\", \"name\": \"jt192wyb\", \"x\": 274.25, \"y\": 171.73792993239366, \"width\": 81.50804671173756, \"height\": 83.26207006760634, \"time\": 0.0308226495726496, \"status\": \"Split\" } ], \"children\": [ \"jt192wyc\", \"jt192wyd\" ], \"parent\": \"\" } ];\n\t\tconst previewNotices = [\"Cells' body range.\", \"The time that cells <u>split</u>, <u>leave</u>, <u>obscured</u> and <u>show up</u> (if applicable).\"];\n\t\tconst url = 'https://cildata.crbs.ucsd.edu/media/videos/50507/50507_web.mp4';\n\t\tconst annotationWidth = 600;\n\t\tthis.state = {\n\t\t\tresult: null,\n\t\t\tinput: {\n\t\t\t\tannotations: JSON.stringify(annotations),\n\t\t\t\turl: url,\n\t\t\t\tannotationWidth: annotationWidth\n\t\t\t },\n\t\t\tparams: {\n\t\t\t\tannotations: annotations,\n\t\t\t\turl: url,\n\t\t\t\tpreviewNotices: previewNotices,\n\t\t\t\tannotationWidth: annotationWidth\n\t\t\t}\n\t\t}\n\t}\n\n\thandleResultSubmit = result => {\n\t\tthis.setState({ result: result });\n\t}\n\n\thandleChange = event => {\n\t\tconst target = event.target;\n\t\tconst name = target.name;\n\t\tconst value = target.type === \"checkbox\" ? target.checked : target.value;\n\t\tthis.setState((preState) => {\n\t\t\tconst { input } = preState;\n\t\t\treturn {\n\t\t\t\tinput: { ...input, [name]: value }\n\t\t\t}\n\n\t\t})\n    }\n\n    handleSubmit = event => {\n\t\tevent.preventDefault();\n\t  \tthis.setState((preState) => {\n\t\t\t\tconst { input } = preState;\n\t\t\t\tconst annotations = this.isJsonString(input.annotations) ? input.annotations : \"[]\";\n\t\t  \t\treturn { params: {\n\t\t\t\t\t\t\tannotations: JSON.parse(annotations),\n\t\t\t\t\t\t\turl: input.url,\n\t\t\t\t\t\t\tannotationWidth: parseInt(input.annotationWidth, 10)\n\t\t\t\t\t\t}\n\t\t\t\t};\n\t  \t\t}\n  \t\t);\n\t}\n\n\tisJsonString = str => {\n\t    try {\n\t        JSON.parse(str);\n\t    } catch (e) {\n\t        return false;\n\t    }\n\t    return true;\n\t}\n\n\trender() {\n\t\tconst { result, input, params } = this.state\n\n\t    return (\n\t\t\t<Container fluid className=\"py-3\">\n\t\t\t\t<h1 className=\"display-4  text-center\">Video Tool</h1>\n\t\t\t\t<Form className=\"mb-2 col-xs-12 col-lg-10 offset-lg-1\" onSubmit={this.handleSubmit}>\n\t\t\t\t\t<FormGroup>\n\t\t\t          <Label for=\"URL\">Video Source URL</Label>\n\t\t\t\t\t  <Input type=\"text\" name=\"url\" placeholder=\"http://...\" value={input.url} onChange={this.handleChange} />\n\t\t\t        </FormGroup>\n\t\t\t\t\t<FormGroup>\n\t\t\t          <Label for=\"Annotation Width\">Annotation Width</Label>\n\t\t\t\t\t  <Input type=\"text\" name=\"annotationWidth\" placeholder=\"number\" value={input.annotationWidth} onChange={this.handleChange} />\n\t\t\t        </FormGroup>\n\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t<Label for=\"exampleText\">Default Annotations</Label>\n\t\t\t            <Input type=\"textarea\" name=\"annotations\" placeholder=\"[{id: .., name: .., label: .., color: .., trajectories: ..}, ..]\" value={input.annotations} onChange={this.handleChange} rows={2}/>\n\t\t\t        </FormGroup>\n        \t\t\t<Button>Demo</Button>\n\t\t\t    </Form>\n\t\t\t\t<Row className=\"my-3 col-xs-12 col-lg-10 offset-lg-1\">\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<Instructions />\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row className=\"py-3\" style={{background: \"rgb(246, 246, 246)\"}}>\n\t\t      \t\t<Col>\n\t\t\t\t\t\t<VideoTool\n\t\t\t\t\t\t\tkey= {\n\t\t\t\t\t\t\t\t`${JSON.stringify(params.url)}\n\t\t\t\t\t\t\t\t ${JSON.stringify(params.annotations)}\n\t\t\t\t\t\t\t\t ${JSON.stringify(params.annotationWidth)}\n\t\t\t\t\t\t\t\t ${JSON.stringify(params.previewNotices)}`\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonSubmit={ this.handleResultSubmit }\n\t\t\t\t\t\t\turl={ params.url }\n\t\t\t\t\t\t\tannotations = { params.annotations }\n\t\t\t\t\t\t\tannotationWidth = { params.annotationWidth }\n\t\t\t\t\t\t\tpreviewNotices = { params.previewNotices }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Col>\n\t\t    \t</Row>\n\t\t\t\t<Row className=\"my-3 col-xs-12 col-lg-10 offset-lg-1\">\n\t\t    \t\t<Col>\n\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t<CardBody>\n\t\t\t<CardTitle><b>Annotations:</b></CardTitle>\n\t\t\t\t\t\t\t\t<CardText>{JSON.stringify(result, null, 2)}</CardText>\n\t\t\t\t\t\t\t</CardBody>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t    let dataStr = \"data:text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(result));\n\t\t<Card><CardBody><Button><a href={dataStr} className=\"btn btn-outline-info\" role=\"button\" download={`${params.url}.json`}>Download the Result</a></Button></CardBody></Card>\n\n\t\t</Container>\n\n\t    );\n\t\t\n\t    \n\t}\n}\nexport default Demo;\n"]},"metadata":{},"sourceType":"module"}